## 计算机网络概述：

网络是把主机连接起来，互连网（internet）是把多种不同的网络连接起来。

<img src="https://tva1.sinaimg.cn/large/008i3skNly1gujvo14kvhj60pe0gkjsy02.jpg" style="zoom:50%;" />

#### 主机之间的通信方式

1.客户-服务器(C/S)：客户是服务的请求方，服务器是服务的提供方

<img src="https://tva1.sinaimg.cn/large/008i3skNly1gujvoxas2uj60ds0b0aa502.jpg" alt="103AEF76-2D90-48D2-8F3F-48F45A280D2D" style="zoom:50%;" />

2.对等(P2P):  不区分客户和服务器

<img src="https://tva1.sinaimg.cn/large/008i3skNly1gujvptl5y4j60d20b0dg002.jpg" alt="240FE4DC-14A2-49AB-8C9F-8F0105C7BF4B" style="zoom:50%;" />

#### 分组交换 

每台计算机通信时把数据包进行分组打包，只要在 头部附上本机的信息和组号 就可以多台计算机共用一条通信线路，这样就提高了通信线路的利用率。分组交换过程中发送端计算机发送给路由器，路由器会缓存这部分数据然后再转发给目标计算机。路由器不一定按照队列先进先出然后再发出去，也有可能优先发出一些特殊的数据。
每个分组都有首部和尾部，包含源地址和目的地址等控制信息，在同一个传输线路上同时传输多个分组互不影响，因此在同一条传输线路上允许同时传输多个分组，也就是说分组交换不需要占用传输线路。

网络传输时延：

<img src="https://tva1.sinaimg.cn/large/008i3skNly1gujvqjh6ovj60l407gjro02.jpg" alt="9DDA2E4C-67B6-42EC-911E-35C0355914AC" style="zoom:50%;" />

总时延  =  排队时延 +  处理时延 +  传输时延 +  传播时延
1. 排队时延：分组在路由器的输入队列和输出队列中排队等待的时间，取决于网络当前的通信量。
2. 处理时延：主机或路由器收到分组时进行处理所需要的时间；例如分析首部、从分组中提取数据、进行差错检验或查找适当的路由等。
3. 传输时延：主机或路由器传输数据帧所需要的时间。
4.传播时延：电磁波在信道中传播所需要花费的时间，电磁波传播的速度接近光速。

<img src="https://tva1.sinaimg.cn/large/008i3skNly1gujvqsrrjjj60gl06rdh002.jpg" alt="FFE6973C-138C-48DB-90FC-3C6794A1DB0D" style="zoom:100%;" />

 

#### 七层协议：

* 应用层 ：为特定 应用程序提供数据传输服务；例如 HTTP、DNS 等协议。数据单位：报文
* 表示层 ：数据压缩、加密以及数据描述，使应用程序不必关心在各台主机中数据内部格式不同的问题。
* 会话层 ：建立及管理会话。
* 传输层 ：为进程提供通用数据传输服务。应用层协议很多，定义通用的传输层协议可以支持不断增多的应用层协议。
传输层包括：TCP，UDP
* 网络层 ：为主机提供数据传输服务。传输层协议是为主机中的进程提供数据传输服务。网络层把传输层传递下来的报文段或用户数据报封装成分组。
* 数据链路层 ：网络层针对的还是主机之间的数据传输服务，而主机之间可以有很多链路，链路层协议就是为同一链路的主机提供数据传输服务。数据链路层把网络层传下来的分组封装成帧。
* 物理层 ：在传输媒体上传输数据比特流，而不是指具体的传输媒体。物理层的作用是尽可能屏蔽传输媒体和通信手段的差异，使数据链路层感觉不到这些差异。

**协议的层次、模型：**

OSI 七层模型： 
应用层： 允许有访问OSI 环境的手段，HTTP，FTP,DNS, SMTP, Telnet
表示层： 对数据进行翻译，加密、压缩  JPEG，MPEG
会话层： 建立，管理和终止会话 SQL， RPC
传输层： 提供不同端系统的进程间通信 TCP，UDP
网络层： 提供主机间的通信， IP， ICMP， ARP，
数据链路层： 提供网络中点到点之间数据帧的传递PPP，MAC（网桥，交换机）
物理层： 提供在物理介质上每一比特的传输 CLOCK， IEEE802.3（中继器，集线器，网关）

Internet 五层模型：
应用层：   将应用程序的 报文交给传输层
传输层：  将接收的报文分段，封装TCP/UDP头部信息，将报文段传递给网络层
网络层：  将接收的报文段封装 IP头部信息，将数据报交给数据链路层
数据链路层： 将接收网络层的数据报，封装数据帧头部信息，将数据帧从一个节点通过链路传到另一个节点 
物理层： 数据链路层负责将一个个数据帧从一点传递到另一点，物理层负责一个个比特从一点传递到另一点



##### 应用层： 

HTTP、DNS 、FTP等协议

##### 传输层： 两种协议

传输控制协议 TCP，提供面向连接、可靠的数据传输服务，数据单位为报文段；
用户数据报协议 UDP，提供无连接、尽最大努力的数据传输服务，数据单位为用户数据报。TCP 主要提供完整性服务，UDP 主要提供及时性服务。

##### 网络层：

IP 协议：根据路由表实现IP数据报的路由转发

<img src="https://tva1.sinaimg.cn/large/008i3skNly1gujvrggomrj60zs0k2dj302.jpg" alt="F9F897CF-D0C9-4F9A-A010-3985E6274581" style="zoom:70%;" />

##### 数据链路层：

信道分类： 

1. 广播信道： 一对多通信，一个节点发送的数据能够被广播信道上所有的节点接收到。所有的节点都在同一个广播信道上发送数据，因此需要有专门的控制方法进行协调，避免发生冲突（冲突也叫碰撞）。主要有两种控制方法进行协调，一个是使用信道复用技术，一是使用 CSMA/CD 协议。
2. 点对点信道： 一对一通信： 因为不会发生碰撞，因此也比较简单，使用 PPP 协议进行控制。

信道复用技术： 频分复用；时分复用；统计时分复用；波分复用；码分复用

MAC 地址：
链路层地址，长度为 6 字节（48 位），用于唯一标识网络适配器（网卡）。一台主机拥有多少个网络适配器就有多少个 MAC 地址。例如笔记本电脑普遍存在无线网络适配器和有线网络适配器，因此就有两个 MAC 地址。

交换机： 
有自学习能力，学习的是交换表的内容，交换表中存储着 MAC 地址到接口的映射。正是由于这种自学习能力，因此交换机是一种即插即用设备，不需要网络管理员手动配置交换表内容。

地址解析协议 ARP
网络层实现主机之间的通信，而链路层实现具体每段链路之间的通信。因此在通信过程中，IP 数据报的源地址和目的地址始终不变，而 MAC 地址随着链路的改变而改变。
ARP 实现由 IP 地址得到 MAC 地址。



##### 物理层：

根据信息在传输线上的传送方向，分为以下三种通信方式：
单工通信：单向传输； 
半双工通信：双向交替传输；
全双工通信：双向同时传输